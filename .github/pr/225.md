# build: add run-test utility for targeted test execution

Adds run-test script and TEST variable support to Makefile for ergonomic test targeting. Supports substring matching for easy discovery without needing to remember exact file paths or makefile targets.

## Implementation

- .local/bin/run-test - bash wrapper that invokes `make TEST=<pattern> test`
- Makefile - TEST variable filtering using findstring for substring match
- CLAUDE.md - documentation for run-test workflow with usage examples

## Design

The implementation leverages make's existing dependency resolution rather than bypassing it. When TEST is set, the Makefile filters all_tests using findstring to match any test path containing the pattern. This means:

- Dependencies automatically rebuild if stale
- No duplicate work if tests already run
- Reuses existing _deps, _staged logic
- More make-native than executable test files requiring PATH manipulation

Pattern matching is intentionally simple (substring match via findstring) rather than complex glob support, making it predictable and fast.

## Usage

```bash
run-test test_pr        # runs all test_pr_* tests
run-test parsing        # runs test_pr_parsing.lua
run-test cosmic         # runs all cosmic tests
run-test argparse       # runs test_argparse.lua
```

## Validation

- [x] substring matching works (test_pr matches all test_pr_* files)
- [x] exact paths work (lib/skill/test_pr_actions.lua)
- [x] partial names work (parsing matches test_pr_parsing.lua)
- [x] dependencies built correctly (staged, test frameworks, etc.)
- [x] incremental builds work (cached .tested files respected)
