# build: simplify lua file discovery with dedicated script

Replace complex shell pipeline with dedicated Lua script for finding Lua files in the build system.

- `lib/build/manifest.lua` - find all Lua files via git with shebang detection
  - `find_lua_files()` searches .lua files and files with lua shebangs
  - `has_lua_shebang()` checks file contents for `#!/.../lua` patterns
  - excludes configured directories (.config/hammerspoon, .config/nvim, .local/bin, o/)
  - returns sorted list of files
- `lib/build/test_manifest.lua` - comprehensive tests for manifest script
  - tests shebang detection including edge cases (spaces, args, non-first-line)
  - tests file filtering and custom exclusion patterns
  - tests sorted output
- `Makefile` - use manifest script instead of complex shell pipeline
  - replace 5-line shell pipeline with single lua script invocation
  - add manifest_script to build dependencies

The shell pipeline approach required repetitive exclusion patterns and complex nested subshells. The Lua script is testable, maintainable, and follows existing patterns in lib/build/.

## Validation

- [x] all tests pass (18 tests in test_manifest.lua)
- [x] `make luacheck` works correctly
- [x] lua_files variable populated with same files as before
