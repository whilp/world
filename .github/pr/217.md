# ast-grep: add incremental checker for built files

Adds ast-grep linting to the build system with incremental checking. Each built file gets a `.astgrep.checked` marker file, enabling fast incremental builds that only re-check modified files.

## Implementation

- 3p/ast-grep/run-astgrep.lua - runner that checks individual files, outputs pass/fail/skip/ignore status
- 3p/ast-grep/report-astgrep.lua - reporter that collects results and prints summary with icons
- 3p/ast-grep/cook.mk - module definition, wires runner/reporter into build
- Makefile - `check` target runs ast-grep on all built files, pattern rule for `.astgrep.checked`
- lib/build/build-fetch.lua, lib/build/build-stage.lua - skip directives for files with intentional violations

## Design

The runner handles file type detection (lua files and lua shebangs), skip directives (`ast-grep ignore: reason`), and runs `sg scan --json=stream`. Output format matches the test runner pattern for consistency.

The reporter uses the same icon set as the test reporter (✓✗→○) and shows `(ast-grep: reason)` suffixes for non-pass statuses.

## Validation

- [x] `make check` runs ast-grep on all built files
- [x] incremental rebuilds skip unchanged files
- [x] skip directive allows marking files to ignore
- [x] unsupported file types (binaries) handled gracefully
- [x] output format aligns with test reporter
