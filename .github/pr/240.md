# cosmic: refactor argparsing to use cosmo.getopt

Updates cosmos to 2026.01.04-f203f0e50 which includes the `cosmo.getopt` module, and refactors lib/cosmic/main.lua to use it for parsing command-line arguments.

## Changes

- 3p/cosmos/version.lua - update to 2026.01.04-f203f0e50 (includes cosmo.getopt)
- lib/cosmic/main.lua - refactor parse_args() to use cosmo.getopt.new() iterator API
  - Uses getopt.new() to create a parser that iterates through options one by one
  - Naturally handles multiple -e and -l options without manual scanning
  - Single unified loop for all option processing
  - Supports both --help and --help=module syntax
  - Cleaner, more idiomatic option parsing

## Validation

- [ ] awaiting cosmos release with iterator API (commit bc03f9a)
- [ ] will test once cosmos is updated to include getopt.new()
- Code is refactored to use the new iterator API in anticipation of the release
