# build: reorganize makefile into focused sections

Move testing and linting infrastructure from main Makefile to new build.mk file for better organization and maintainability.

## Changes

- **build.mk** - new file containing all test/lint infrastructure:
  - organized by purpose (each tool section contains all related config)
  - shared infrastructure (manifests, file lists)
  - luatest section (test runner config, dependencies, targets)
  - luacheck section (linter config and targets)
  - ast-grep section (structural search)
  - teal section (type checker)
  - latest section (version checker)
  - build scripts (fetch, extract, install)

- **Makefile** - streamlined to focus on core concerns:
  - platform detection
  - output directory setup
  - bootstrap configuration
  - include directives
  - LUA_PATH construction
  - high-level aggregate targets (check, test, bootstrap, clean)

- **lib/build/cook.mk** - simplified to only library build rules and update-pr target

## Organization

build.mk groups each tool's configuration together rather than organizing by variable type. Each section contains all related variables, dependencies, and targets in one cohesive block, making it easier to understand and modify individual tools.

## Validation

- generated manifest files before/after refactor - identical (no behavior changes)
- all tests pass
- build system fully functional
